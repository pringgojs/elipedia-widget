!function(){const e="elipedia-chat-iframe",t="elipedia-chat-toggle",n="elipedia-floating-container";function i(){const e=document.getElementById(n);e&&e.remove()}function o(e="500px"){let t=document.getElementById(n);return t||(t=document.createElement("div"),t.id=n,document.body.appendChild(t)),t.style.position="fixed",t.style.bottom="500px"==e?"80px":"120px",t.style.right="20px",t.style.width="350px",t.style.height=e,t.style.zIndex="99999",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.background="none",t.style.boxShadow="0 4px 12px rgba(0,0,0,0.3)",t.style.borderRadius="10px",t.style.padding="0",t}function d(){if(document.getElementById(t))return;const d=document.createElement("div");d.id=t,d.innerHTML="<img src='../icon.png' alt='Elipedia Chat' style='width: 100%; height: 100%; object-fit: cover;'>",d.style.cssText="\n    position: fixed;\n    bottom: 20px;\n    right: 20px;\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    background-color: none;\n    color: white;\n    font-size: 24px;\n    text-align: center;\n    line-height: 60px;\n    cursor: pointer;\n    z-index: 99999;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n    user-select: none;\n  ",d.title="Buka Chat Elipedia",d.addEventListener("click",()=>{null!==document.getElementById(n)?i():async function(){try{const e=await fetch("https://dev.elipedia.id/api/get-session",{method:"GET",credentials:"include"});if(!e.ok)return!1;const t=await e.json();if(!t.sessionId)return!1;const n=await fetch(`https://dev.elipedia.id/api/check-session/${t.sessionId}`,{method:"GET",credentials:"include"});return!!n.ok&&!!(await n.json()).active}catch(e){return!1}}()?function(){const t=o("500px");t.innerHTML="";let n=document.getElementById(e);n||(n=document.createElement("iframe"),n.id=e,n.src="https://dev.elipedia.id/",n.style.cssText="\n    position: fixed;\n    bottom: 80px;\n    right: 20px;\n    width: 350px;\n    height: 500px;\n    border: none;\n    border-radius: 10px;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n    z-index: 99999;\n    display: none;\n  position:static;display:block;width:100%;height:100%;",n.setAttribute("title","Elipedia Chat")),t.appendChild(n)}():(o("340px").innerHTML='\n      <form id="elipedia-login-form" autocomplete="off" style="background:#fff;border-radius:10px;padding:32px 24px 32px 24px;box-shadow:0 2px 8px rgba(0,0,0,0.08);font-family:Arial,sans-serif;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;gap:1.2rem;max-width:320px;">\n        <h3 style="margin:0 0 1.5rem 0;font-size:1.25rem;font-weight:600;text-align:center;color:#166534;width:100%;">Login ke Elipedia Chat</h3>\n        <label style="font-size:.95rem;font-weight:500;color:#222;width:100%;padding-bottom:2px;">Email\n          <input type="email" name="email" value="jodhy.hermawan@elitery.com" required style="font-size:14px;border-radius:6px;line-height:1.5;padding:8px 12px;border:2px solid #dee1e2;color:rgb(14,14,16);background:#dee1e2;display:block;height:38px;width:100%;margin-top:0.25rem;box-sizing:border-box;">\n        </label>\n        <label style="font-size:.95rem;font-weight:500;color:#222;width:100%;padding-bottom:2px;">Nama\n          <input type="text" name="name" value="jodhy" required style="font-size:14px;border-radius:6px;line-height:1.5;padding:8px 12px;border:2px solid #dee1e2;color:rgb(14,14,16);background:#dee1e2;display:block;height:38px;width:100%;margin-top:0.25rem;box-sizing:border-box;">\n        </label>\n        <label style="font-size:.95rem;font-weight:500;color:#222;width:100%;padding-bottom:2px;">Username\n          <input type="text" name="username" value="jodhy12" required style="font-size:14px;border-radius:6px;line-height:1.5;padding:8px 12px;border:2px solid #dee1e2;color:rgb(14,14,16);background:#dee1e2;display:block;height:38px;width:100%;margin-top:0.25rem;box-sizing:border-box;">\n        </label>\n        <button type="submit" style="margin-top:.5rem;width:100%;background:linear-gradient(90deg,#166534,#22c55e);color:#fff;padding:.85rem 0;border:none;border-radius:.5rem;font-size:1.1rem;font-weight:600;box-shadow:0 2px 8px rgba(34,197,94,0.08);transition:background .2s,box-shadow .2s;cursor:pointer;">Login</button>\n      </form>\n    ',document.getElementById("elipedia-login-form").onsubmit=function(e){e.preventDefault();const t=this.email.value,n=this.name.value,o={email:t,preferred_username:this.username.value,name:n,sub:window.btoa(t)};localStorage.setItem("elipedia_x_data",window.btoa(JSON.stringify(o)));const d=document.createElement("form");d.action="https://dev.elipedia.id/login/callback",d.target="elipedia_login_popup",d.method="GET",d.style.display="none",d.innerHTML=`\n        <input type="text" name="verify_token" value="UcmkbFpIPjSyLdCxcXDJCesgzCAPauzSn5IgSFivkq" />\n        <input type="text" name="fromRedirect" value="true" />\n        <input type="text" name="x-data" value="${window.btoa(JSON.stringify(o))}" />\n        <input type="text" name="widget" value="true" />\n      `,document.body.appendChild(d);const a=window.open("","elipedia_login_popup","width=500,height=700");d.submit();const r=setInterval(function(){a.closed&&(clearInterval(r),i())},500)})}),document.body.appendChild(d)}function a(){d()}"complete"===document.readyState||"interactive"===document.readyState?a():document.addEventListener("DOMContentLoaded",a)}();